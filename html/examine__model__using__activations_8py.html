<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>My Project: examine_model_using_activations.py File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">examine_model_using_activations.py File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>This file implements various functions that can be used to disect and study the neural network trained using <a class="el" href="predict__promoters_8py.html" title="This file implements function that builds and trains neural network for TSS prediction using specifie...">predict_promoters.py</a>.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a71c48594f6647bb1bd430175b722c343"><td class="memItemLeft" align="right" valign="top"><a id="a71c48594f6647bb1bd430175b722c343"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>examine_model_using_activations.neuron_represents</b> (layer, nwl)</td></tr>
<tr class="separator:a71c48594f6647bb1bd430175b722c343"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8cfc10d19f5946cee2694411057660a"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="examine__model__using__activations_8py.html#ac8cfc10d19f5946cee2694411057660a">examine_model_using_activations.neuron_belongs_to</a> (n)</td></tr>
<tr class="separator:ac8cfc10d19f5946cee2694411057660a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a89264b35a51d8733d22e97354fb06213"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="examine__model__using__activations_8py.html#a89264b35a51d8733d22e97354fb06213">examine_model_using_activations.plot_filter</a> (f, filename=None)</td></tr>
<tr class="separator:a89264b35a51d8733d22e97354fb06213"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9314ccaa90a958f2d1c1e9fdc4a5c8f9"><td class="memItemLeft" align="right" valign="top"><a id="a9314ccaa90a958f2d1c1e9fdc4a5c8f9"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>examine_model_using_activations.plot_hyperfilter</b> (f, filename=None)</td></tr>
<tr class="separator:a9314ccaa90a958f2d1c1e9fdc4a5c8f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a7803248408c02ffac8e8ac607f4da5"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="examine__model__using__activations_8py.html#a3a7803248408c02ffac8e8ac607f4da5">examine_model_using_activations.neuron_label</a> (neuron)</td></tr>
<tr class="separator:a3a7803248408c02ffac8e8ac607f4da5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec6c3257c480c0275b133713f65db1f6"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="examine__model__using__activations_8py.html#aec6c3257c480c0275b133713f65db1f6">examine_model_using_activations.important_for_layer</a> (o, layer, important_pos, important_neg, prev, ratio=0.3)</td></tr>
<tr class="separator:aec6c3257c480c0275b133713f65db1f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0de6b35f47b2c89de717264df1763efb"><td class="memItemLeft" align="right" valign="top"><a id="a0de6b35f47b2c89de717264df1763efb"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>examine_model_using_activations.activation_contribution</b> (o)</td></tr>
<tr class="separator:a0de6b35f47b2c89de717264df1763efb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac4689bec31921c43cf99329ec645f878"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="examine__model__using__activations_8py.html#ac4689bec31921c43cf99329ec645f878">examine_model_using_activations.plot_important_neurons</a> (neurons, flat_layer=True)</td></tr>
<tr class="separator:ac4689bec31921c43cf99329ec645f878"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a660042dc47ce15dc02f5222154b52ff4"><td class="memItemLeft" align="right" valign="top"><a id="a660042dc47ce15dc02f5222154b52ff4"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>examine_model_using_activations.plot_importance_frequency</b> (_p, _n, how_many=20, start=0, fname=None)</td></tr>
<tr class="separator:a660042dc47ce15dc02f5222154b52ff4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab7c056a35000bb948b3ab268a8b45a4f"><td class="memItemLeft" align="right" valign="top"><a id="ab7c056a35000bb948b3ab268a8b45a4f"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>examine_model_using_activations.plot_importance_by_layer</b> (_p, _n, how_many=20, start=0, fname=None)</td></tr>
<tr class="separator:ab7c056a35000bb948b3ab268a8b45a4f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a10c4322677ed09b161c4888e29cf7185"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="examine__model__using__activations_8py.html#a10c4322677ed09b161c4888e29cf7185">examine_model_using_activations.sum_activations_by_layer</a> (act_pos, act_n)</td></tr>
<tr class="separator:a10c4322677ed09b161c4888e29cf7185"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8316767a1a8da1be565f1a57c322b127"><td class="memItemLeft" align="right" valign="top"><a id="a8316767a1a8da1be565f1a57c322b127"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>examine_model_using_activations.plot_activations_summed_by_layer</b> (df, fname=None)</td></tr>
<tr class="separator:a8316767a1a8da1be565f1a57c322b127"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a77fa1cc23e970c6c4d538d78a75d9e2e"><td class="memItemLeft" align="right" valign="top"><a id="a77fa1cc23e970c6c4d538d78a75d9e2e"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>examine_model_using_activations.shelveit</b> ()</td></tr>
<tr class="separator:a77fa1cc23e970c6c4d538d78a75d9e2e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeaac474aaf19c62c9255307d73e385af"><td class="memItemLeft" align="right" valign="top"><a id="aeaac474aaf19c62c9255307d73e385af"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>examine_model_using_activations.plot_filter_weights_over_position</b> (f, tick_interval=50)</td></tr>
<tr class="separator:aeaac474aaf19c62c9255307d73e385af"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a24cb775dbcbc497b612144e3b6a6a4f5"><td class="memItemLeft" align="right" valign="top"><a id="a24cb775dbcbc497b612144e3b6a6a4f5"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>examine_model_using_activations.inp</b> = read_input_files(sys.argv[1])</td></tr>
<tr class="separator:a24cb775dbcbc497b612144e3b6a6a4f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f59d1a1df59f07d1d697a99cc18e2b2"><td class="memItemLeft" align="right" valign="top"><a id="a3f59d1a1df59f07d1d697a99cc18e2b2"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>examine_model_using_activations.out</b> = 7</td></tr>
<tr class="separator:a3f59d1a1df59f07d1d697a99cc18e2b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9594ebcc247c4b10adc434063c54bd1c"><td class="memItemLeft" align="right" valign="top"><a id="a9594ebcc247c4b10adc434063c54bd1c"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>examine_model_using_activations.hidden</b> = 6</td></tr>
<tr class="separator:a9594ebcc247c4b10adc434063c54bd1c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeae72b500777a4554340a17f984382d6"><td class="memItemLeft" align="right" valign="top"><a id="aeae72b500777a4554340a17f984382d6"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>examine_model_using_activations.flat</b> = 5</td></tr>
<tr class="separator:aeae72b500777a4554340a17f984382d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a814906dba5d2280b1f7f21decad15556"><td class="memItemLeft" align="right" valign="top"><a id="a814906dba5d2280b1f7f21decad15556"></a>
string&#160;</td><td class="memItemRight" valign="bottom"><b>examine_model_using_activations.filter_directory</b> = &quot;./filters_easy_model/&quot;</td></tr>
<tr class="separator:a814906dba5d2280b1f7f21decad15556"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d636642d5c06198a0d3ff4af25cca87"><td class="memItemLeft" align="right" valign="top"><a id="a8d636642d5c06198a0d3ff4af25cca87"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>examine_model_using_activations.TSS_pos</b> = 500</td></tr>
<tr class="separator:a8d636642d5c06198a0d3ff4af25cca87"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a14371f05cde11c2458cfcfee0b517eb4"><td class="memItemLeft" align="right" valign="top"><a id="a14371f05cde11c2458cfcfee0b517eb4"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>examine_model_using_activations.model</b> = tf.keras.models.load_model(model_file)</td></tr>
<tr class="separator:a14371f05cde11c2458cfcfee0b517eb4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a0195be3e887485afe49037777d03cc"><td class="memItemLeft" align="right" valign="top"><a id="a1a0195be3e887485afe49037777d03cc"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>examine_model_using_activations.n_layers</b> = len(model.layers)</td></tr>
<tr class="separator:a1a0195be3e887485afe49037777d03cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0787fbb77448d5d71d22553de9d9933b"><td class="memItemLeft" align="right" valign="top"><a id="a0787fbb77448d5d71d22553de9d9933b"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>examine_model_using_activations.out_l</b> = len(model.layers)-1</td></tr>
<tr class="separator:a0787fbb77448d5d71d22553de9d9933b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa147badb3e376056fd895b5f6ed8823f"><td class="memItemLeft" align="right" valign="top"><a id="aa147badb3e376056fd895b5f6ed8823f"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>examine_model_using_activations.dense_l</b> = len(model.layers)-2</td></tr>
<tr class="separator:aa147badb3e376056fd895b5f6ed8823f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3277af150244ee59ac8b5a88bca5e725"><td class="memItemLeft" align="right" valign="top"><a id="a3277af150244ee59ac8b5a88bca5e725"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>examine_model_using_activations.concat_l</b> = len(model.layers)-3</td></tr>
<tr class="separator:a3277af150244ee59ac8b5a88bca5e725"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6096607a99d16fc57d6917407a4f525f"><td class="memItemLeft" align="right" valign="top"><a id="a6096607a99d16fc57d6917407a4f525f"></a>
list&#160;</td><td class="memItemRight" valign="bottom"><b>examine_model_using_activations.n</b> = [l.name for l in model.layers]</td></tr>
<tr class="separator:a6096607a99d16fc57d6917407a4f525f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab91f2bfc1fed1a0803854d877c224aee"><td class="memItemLeft" align="right" valign="top"><a id="ab91f2bfc1fed1a0803854d877c224aee"></a>
list&#160;</td><td class="memItemRight" valign="bottom"><b>examine_model_using_activations.w</b> = [l.get_weights() for l in model.layers]</td></tr>
<tr class="separator:ab91f2bfc1fed1a0803854d877c224aee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a321033a21248ef6ab2011f5d7b562e47"><td class="memItemLeft" align="right" valign="top">list&#160;</td><td class="memItemRight" valign="bottom"><b>examine_model_using_activations.outputs</b></td></tr>
<tr class="separator:a321033a21248ef6ab2011f5d7b562e47"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a61d50fd1d4c391b8824cc9ec95ffb39f"><td class="memItemLeft" align="right" valign="top"><a id="a61d50fd1d4c391b8824cc9ec95ffb39f"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>examine_model_using_activations.functor</b> = tf.keras.backend.function(inp, outputs )</td></tr>
<tr class="separator:a61d50fd1d4c391b8824cc9ec95ffb39f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab2e10395f7a489f33952065c2f4a9dc3"><td class="memItemLeft" align="right" valign="top"><a id="ab2e10395f7a489f33952065c2f4a9dc3"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>examine_model_using_activations.pos_hidden</b> = np.zeros(model.layers[dense_l].output_shape[1])</td></tr>
<tr class="separator:ab2e10395f7a489f33952065c2f4a9dc3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc2656ccc75be43c874b5765799b3a36"><td class="memItemLeft" align="right" valign="top"><a id="acc2656ccc75be43c874b5765799b3a36"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>examine_model_using_activations.neg_hidden</b> = np.zeros(model.layers[dense_l].output_shape[1])</td></tr>
<tr class="separator:acc2656ccc75be43c874b5765799b3a36"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a77f89fb8cf6329eee37ac7e1e8a788c1"><td class="memItemLeft" align="right" valign="top"><a id="a77f89fb8cf6329eee37ac7e1e8a788c1"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>examine_model_using_activations.pos_p_flat</b> = np.zeros(model.layers[concat_l].output_shape[1])</td></tr>
<tr class="separator:a77f89fb8cf6329eee37ac7e1e8a788c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a298dd404d5fdc525eef3a056d991bee8"><td class="memItemLeft" align="right" valign="top"><a id="a298dd404d5fdc525eef3a056d991bee8"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>examine_model_using_activations.pos_n_flat</b> = np.zeros(model.layers[concat_l].output_shape[1])</td></tr>
<tr class="separator:a298dd404d5fdc525eef3a056d991bee8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99c20d72ef0f81cf435dc97a0750cbe9"><td class="memItemLeft" align="right" valign="top"><a id="a99c20d72ef0f81cf435dc97a0750cbe9"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>examine_model_using_activations.neg_p_flat</b> = np.zeros(model.layers[concat_l].output_shape[1])</td></tr>
<tr class="separator:a99c20d72ef0f81cf435dc97a0750cbe9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a53b0811f339e20f1c9f4a3296a6bca53"><td class="memItemLeft" align="right" valign="top"><a id="a53b0811f339e20f1c9f4a3296a6bca53"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>examine_model_using_activations.neg_n_flat</b> = np.zeros(model.layers[concat_l].output_shape[1])</td></tr>
<tr class="separator:a53b0811f339e20f1c9f4a3296a6bca53"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a58eaf7e97640dec8971f7e5af6cbb4f0"><td class="memItemLeft" align="right" valign="top"><a id="a58eaf7e97640dec8971f7e5af6cbb4f0"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>examine_model_using_activations.concat_contrib_pos_p</b> = np.zeros(model.layers[concat_l].output_shape[1])</td></tr>
<tr class="separator:a58eaf7e97640dec8971f7e5af6cbb4f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7626ebea8a3ea31f3f001dd8d5e8e464"><td class="memItemLeft" align="right" valign="top"><a id="a7626ebea8a3ea31f3f001dd8d5e8e464"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>examine_model_using_activations.concat_contrib_pos_n</b> = np.zeros(model.layers[concat_l].output_shape[1])</td></tr>
<tr class="separator:a7626ebea8a3ea31f3f001dd8d5e8e464"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a87ad0ec268c051561eac7abcaa099d54"><td class="memItemLeft" align="right" valign="top"><a id="a87ad0ec268c051561eac7abcaa099d54"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>examine_model_using_activations.concat_contrib_neg_p</b> = np.zeros(model.layers[concat_l].output_shape[1])</td></tr>
<tr class="separator:a87ad0ec268c051561eac7abcaa099d54"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e90d87910eed52551b8c1cd941f5808"><td class="memItemLeft" align="right" valign="top"><a id="a8e90d87910eed52551b8c1cd941f5808"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>examine_model_using_activations.concat_contrib_neg_n</b> = np.zeros(model.layers[concat_l].output_shape[1])</td></tr>
<tr class="separator:a8e90d87910eed52551b8c1cd941f5808"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a8d930aa95d882f216fb61554d7de6c"><td class="memItemLeft" align="right" valign="top"><a id="a5a8d930aa95d882f216fb61554d7de6c"></a>
list&#160;</td><td class="memItemRight" valign="bottom"><b>examine_model_using_activations.inputs</b> = []</td></tr>
<tr class="separator:a5a8d930aa95d882f216fb61554d7de6c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c16237f2865ba18591f6fec91043253"><td class="memItemLeft" align="right" valign="top"><a id="a2c16237f2865ba18591f6fec91043253"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>examine_model_using_activations.obj</b> = eval(inp.name.split(&quot;_&quot;)[0])</td></tr>
<tr class="separator:a2c16237f2865ba18591f6fec91043253"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e286e363a8ca624e567c5c519960605"><td class="memItemLeft" align="right" valign="top"><a id="a4e286e363a8ca624e567c5c519960605"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>examine_model_using_activations.o</b> = functor(inputs)</td></tr>
<tr class="separator:a4e286e363a8ca624e567c5c519960605"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b53d35213f613567bb2aef250091077"><td class="memItemLeft" align="right" valign="top"><a id="a0b53d35213f613567bb2aef250091077"></a>
list&#160;</td><td class="memItemRight" valign="bottom"><b>examine_model_using_activations.out_pos</b> = [0]</td></tr>
<tr class="separator:a0b53d35213f613567bb2aef250091077"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa1ba118b8900ecd2fbad807fa5d564f"><td class="memItemLeft" align="right" valign="top"><a id="aaa1ba118b8900ecd2fbad807fa5d564f"></a>
list&#160;</td><td class="memItemRight" valign="bottom"><b>examine_model_using_activations.out_neg</b> = []</td></tr>
<tr class="separator:aaa1ba118b8900ecd2fbad807fa5d564f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a323a93d899807d704fc7209be9016bba"><td class="memItemLeft" align="right" valign="top"><a id="a323a93d899807d704fc7209be9016bba"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>examine_model_using_activations.pos_p_hidden_s</b></td></tr>
<tr class="separator:a323a93d899807d704fc7209be9016bba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac993403e7a7b8c7db76220193bc6b956"><td class="memItemLeft" align="right" valign="top"><a id="ac993403e7a7b8c7db76220193bc6b956"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>examine_model_using_activations.pos_n_hidden_s</b></td></tr>
<tr class="separator:ac993403e7a7b8c7db76220193bc6b956"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad5000d2b07302ccbda5c349095e63ac8"><td class="memItemLeft" align="right" valign="top"><a id="ad5000d2b07302ccbda5c349095e63ac8"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>examine_model_using_activations.neg_p_hidden_s</b></td></tr>
<tr class="separator:ad5000d2b07302ccbda5c349095e63ac8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a10dfba99f4241047eeda166f9c83dfc2"><td class="memItemLeft" align="right" valign="top"><a id="a10dfba99f4241047eeda166f9c83dfc2"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>examine_model_using_activations.neg_n_hidden_s</b></td></tr>
<tr class="separator:a10dfba99f4241047eeda166f9c83dfc2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad03ae0abb05fd8ca8c72fea04c803ade"><td class="memItemLeft" align="right" valign="top"><a id="ad03ae0abb05fd8ca8c72fea04c803ade"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>examine_model_using_activations.ratio</b></td></tr>
<tr class="separator:ad03ae0abb05fd8ca8c72fea04c803ade"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae79ee5e62c3c8ddc6f63ec57ff33df31"><td class="memItemLeft" align="right" valign="top"><a id="ae79ee5e62c3c8ddc6f63ec57ff33df31"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>examine_model_using_activations.pos_hidden_s</b> = pos_p_hidden_s + pos_n_hidden_s</td></tr>
<tr class="separator:ae79ee5e62c3c8ddc6f63ec57ff33df31"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad707bf96864eff8e27bc95a734fdafab"><td class="memItemLeft" align="right" valign="top"><a id="ad707bf96864eff8e27bc95a734fdafab"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>examine_model_using_activations.neg_hidden_s</b> = neg_p_hidden_s + neg_n_hidden_s</td></tr>
<tr class="separator:ad707bf96864eff8e27bc95a734fdafab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a30bad2074bde3947a7cc0e6009a7fe8e"><td class="memItemLeft" align="right" valign="top"><a id="a30bad2074bde3947a7cc0e6009a7fe8e"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>examine_model_using_activations.pos_p_flat_s</b></td></tr>
<tr class="separator:a30bad2074bde3947a7cc0e6009a7fe8e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad46ee07b29384de903e168c02955c513"><td class="memItemLeft" align="right" valign="top"><a id="ad46ee07b29384de903e168c02955c513"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>examine_model_using_activations.pos_n_flat_s</b></td></tr>
<tr class="separator:ad46ee07b29384de903e168c02955c513"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8f71478d8618075d1562f1f6526d641"><td class="memItemLeft" align="right" valign="top"><a id="ac8f71478d8618075d1562f1f6526d641"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>examine_model_using_activations.neg_p_flat_s</b></td></tr>
<tr class="separator:ac8f71478d8618075d1562f1f6526d641"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a764144343a983c305abf7d2f3db2badc"><td class="memItemLeft" align="right" valign="top"><a id="a764144343a983c305abf7d2f3db2badc"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>examine_model_using_activations.neg_n_flat_s</b></td></tr>
<tr class="separator:a764144343a983c305abf7d2f3db2badc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a04432922a0e30f3c6b8445b8edac2df5"><td class="memItemLeft" align="right" valign="top"><a id="a04432922a0e30f3c6b8445b8edac2df5"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>examine_model_using_activations.ac</b> = activation_contribution(o)</td></tr>
<tr class="separator:a04432922a0e30f3c6b8445b8edac2df5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af46073f36ee8abb382b65d26a3f6a094"><td class="memItemLeft" align="right" valign="top"><a id="af46073f36ee8abb382b65d26a3f6a094"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>examine_model_using_activations.plot_fname</b> = model_file.replace(&quot;.model&quot;,&quot;&quot;)</td></tr>
<tr class="separator:af46073f36ee8abb382b65d26a3f6a094"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a73040c4db438cff7e9a356c7a36e48b9"><td class="memItemLeft" align="right" valign="top"><a id="a73040c4db438cff7e9a356c7a36e48b9"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>examine_model_using_activations.how_many</b></td></tr>
<tr class="separator:a73040c4db438cff7e9a356c7a36e48b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b08abcc0bd17f8556383085bf1e9dcb"><td class="memItemLeft" align="right" valign="top"><a id="a0b08abcc0bd17f8556383085bf1e9dcb"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>examine_model_using_activations.fname</b></td></tr>
<tr class="separator:a0b08abcc0bd17f8556383085bf1e9dcb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc82f61c696ca27b59775691de0cfc9c"><td class="memItemLeft" align="right" valign="top"><a id="acc82f61c696ca27b59775691de0cfc9c"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>examine_model_using_activations.start</b></td></tr>
<tr class="separator:acc82f61c696ca27b59775691de0cfc9c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f06e1bf40a913f6dafc7d94875d8486"><td class="memItemLeft" align="right" valign="top"><a id="a5f06e1bf40a913f6dafc7d94875d8486"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>examine_model_using_activations.act_pos</b> = concat_contrib_pos_p + concat_contrib_pos_n</td></tr>
<tr class="separator:a5f06e1bf40a913f6dafc7d94875d8486"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af409361366588644a2e12330e803a677"><td class="memItemLeft" align="right" valign="top"><a id="af409361366588644a2e12330e803a677"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>examine_model_using_activations.act_neg</b> = concat_contrib_neg_p + concat_contrib_neg_n</td></tr>
<tr class="separator:af409361366588644a2e12330e803a677"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a30feccea79c2cb48869e4818b53ddaa4"><td class="memItemLeft" align="right" valign="top"><a id="a30feccea79c2cb48869e4818b53ddaa4"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>examine_model_using_activations.act_sum_by_latyer</b> = sum_activations_by_layer(act_pos, act_neg)</td></tr>
<tr class="separator:a30feccea79c2cb48869e4818b53ddaa4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This file implements various functions that can be used to disect and study the neural network trained using <a class="el" href="predict__promoters_8py.html" title="This file implements function that builds and trains neural network for TSS prediction using specifie...">predict_promoters.py</a>. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="file_aec6c3257c480c0275b133713f65db1f6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#file_aec6c3257c480c0275b133713f65db1f6">&#9670;&nbsp;</a></span>important_for_layer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def examine_model_using_activations.important_for_layer </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>o</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>layer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>important_pos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>important_neg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>prev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>ratio</em> = <code>0.3</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">As input takes:
       - Output values of whole network,
       - Layer number (important neurons of this layer we already have)
       - List of positively influencing neurons from this layer
       - List of negatively influencing neurons from this layer
       - Number of the previous layer. We're finding important neurons in this layer
       - [optional] propotion of max. contribution to neuron's value to be considered important
         default 0.3 means that all neurons having abs(activation) at least 0.3*abs(max_activation)
         are considered important
    Returns:
       - list of neurons in "prev" layer supporting result "region is a promoter" 
         by having POSITIVE value
       - list of neurons in "prev" layer supporting result "region is a promoter"
         by having NEGATIVE value
       - list of neurons in "prev" layer supporting result "region is NOT a promoter"
         by having POSITIVE value
       - list of neurons in "prev" layer supporting result "region is NOT a promoter"
         by having NEGATIVE value
</pre> 
</div>
</div>
<a id="file_ac8cfc10d19f5946cee2694411057660a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#file_ac8cfc10d19f5946cee2694411057660a">&#9670;&nbsp;</a></span>neuron_belongs_to()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def examine_model_using_activations.neuron_belongs_to </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>n</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Returns description of layer to which a neuron belongs to.</pre> 
</div>
</div>
<a id="file_a3a7803248408c02ffac8e8ac607f4da5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#file_a3a7803248408c02ffac8e8ac607f4da5">&#9670;&nbsp;</a></span>neuron_label()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def examine_model_using_activations.neuron_label </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>neuron</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Creates readable label for neuron of flat layer depending on which input layer corresponds to it. </pre> 
</div>
</div>
<a id="file_a89264b35a51d8733d22e97354fb06213"></a>
<h2 class="memtitle"><span class="permalink"><a href="#file_a89264b35a51d8733d22e97354fb06213">&#9670;&nbsp;</a></span>plot_filter()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def examine_model_using_activations.plot_filter </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>f</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>filename</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Plots convolutional filter of bases as barplot showing weights of bases on positions within motif.</pre> 
</div>
</div>
<a id="file_ac4689bec31921c43cf99329ec645f878"></a>
<h2 class="memtitle"><span class="permalink"><a href="#file_ac4689bec31921c43cf99329ec645f878">&#9670;&nbsp;</a></span>plot_important_neurons()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def examine_model_using_activations.plot_important_neurons </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>neurons</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>flat_layer</em> = <code>True</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Plots ?!? </pre> 
</div>
</div>
<a id="file_a10c4322677ed09b161c4888e29cf7185"></a>
<h2 class="memtitle"><span class="permalink"><a href="#file_a10c4322677ed09b161c4888e29cf7185">&#9670;&nbsp;</a></span>sum_activations_by_layer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def examine_model_using_activations.sum_activations_by_layer </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>act_pos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>act_n</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">app = activation contribution of neuron on training examples, where the </pre> 
</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="file_a321033a21248ef6ab2011f5d7b562e47"></a>
<h2 class="memtitle"><span class="permalink"><a href="#file_a321033a21248ef6ab2011f5d7b562e47">&#9670;&nbsp;</a></span>outputs</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">list examine_model_using_activations.outputs</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;=  [layer.output <span class="keywordflow">for</span> layer <span class="keywordflow">in</span> model.layers           <span class="comment"># all layer outputs</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;                             <span class="keywordflow">if</span> layer.name <span class="keywordflow">not</span> <span class="keywordflow">in</span> model.input_names]</div></div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
